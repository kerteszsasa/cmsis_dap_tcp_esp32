menu "CMSIS-DAP configuration"

    menu "WiFi configuration"

        config ESP_WIFI_SSID
            string "WiFi SSID"
            default "myssid"
            help
                SSID (network name) to connect to.

        config ESP_WIFI_PASSWORD
            string "WiFi Password"
            default "mypassword"
            help
                WiFi password (WPA or WPA2) to use.

        choice ESP_WIFI_SAE_MODE
            prompt "WPA3 SAE mode selection"
            default ESP_STATION_EXAMPLE_WPA3_SAE_PWE_BOTH
            help
                Select mode for SAE as Hunt and Peck, H2E or both.
            config ESP_STATION_EXAMPLE_WPA3_SAE_PWE_HUNT_AND_PECK
                bool "HUNT AND PECK"
            config ESP_STATION_EXAMPLE_WPA3_SAE_PWE_HASH_TO_ELEMENT
                bool "H2E"
                depends on ESP_WIFI_ENABLE_SAE_H2E
            config ESP_STATION_EXAMPLE_WPA3_SAE_PWE_BOTH
                bool "BOTH"
                depends on ESP_WIFI_ENABLE_SAE_H2E
        endchoice

        config ESP_WIFI_PW_ID
            string "PASSWORD IDENTIFIER"
            depends on  ESP_STATION_EXAMPLE_WPA3_SAE_PWE_HASH_TO_ELEMENT || ESP_STATION_EXAMPLE_WPA3_SAE_PWE_BOTH
            default ""
            help
                password identifier for SAE H2E

        config ESP_MAXIMUM_RETRY
            int "Maximum retries"
            default 5
            help
                Set the maximum number of retries to avoid station reconnecting to the AP forever when the AP is really inexistent.

        choice ESP_WIFI_SCAN_AUTH_MODE_THRESHOLD
            prompt "WiFi Scan auth mode threshold"
            default ESP_WIFI_AUTH_WPA2_PSK
            help
                The weakest authmode to accept in the scan mode.
                This value defaults to ESP_WIFI_AUTH_WPA2_PSK in case password is present and ESP_WIFI_AUTH_OPEN is used.
                Please select ESP_WIFI_AUTH_WEP/ESP_WIFI_AUTH_WPA_PSK in case AP is operating in WEP/WPA mode.

            config ESP_WIFI_AUTH_OPEN
                bool "OPEN"
            config ESP_WIFI_AUTH_WEP
                bool "WEP"
            config ESP_WIFI_AUTH_WPA_PSK
                bool "WPA PSK"
            config ESP_WIFI_AUTH_WPA2_PSK
                bool "WPA2 PSK"
            config ESP_WIFI_AUTH_WPA_WPA2_PSK
                bool "WPA/WPA2 PSK"
            config ESP_WIFI_AUTH_WPA3_PSK
                bool "WPA3 PSK"
            config ESP_WIFI_AUTH_WPA2_WPA3_PSK
                bool "WPA2/WPA3 PSK"
            config ESP_WIFI_AUTH_WAPI_PSK
                bool "WAPI PSK"
        endchoice

    endmenu

    menu "UART to TCP/IP bridge"

        config ESP_UART_BRIDGE_ENABLED
            bool "Enable the UART to TCP/IP bridge"
            default n
            help
                Start a TCP/IP server that connects to a UART on the board. This
                can be used to bridge a target board's console over TCP/IP.

        config ESP_UART_BRIDGE_TCP_PORT
            int "TCP port number"
            default 4442
            depends on ESP_UART_BRIDGE_ENABLED
            help
                Select the TCP port number for the UART bridge.

        config ESP_UART_BRIDGE_USE_KEEPALIVE
            bool "Enable TCP keep-alive packets and disconnect on timeout"
            default y
            depends on ESP_UART_BRIDGE_ENABLED
            help
                To detect dead clients, use TCP keepalives and drop the
                connection if a timeout occurs.

        config ESP_UART_BRIDGE_KEEPALIVE_TIMEOUT
            int "TCP keep-alive timeout in seconds"
            default 10
            depends on ESP_UART_BRIDGE_USE_KEEPALIVE
            help
                Drop the connection if a client does not respond for this
                number of seconds.

        config ESP_UART_BRIDGE_UART_NUM
            int "UART number"
            default 1
            depends on ESP_UART_BRIDGE_ENABLED
            help
                Select the UART number to use.

        config ESP_UART_BRIDGE_REMAP_PINS
            bool "Select the GPIO numbers used for UART TX and RX signals"
            default n
            depends on ESP_UART_BRIDGE_ENABLED
            help
                Choose the specific GPIO numbers to use for UART TX and RX.

        config ESP_UART_BRIDGE_TXD_PIN
            int "GPIO number for UART TX"
            default 2
            depends on ESP_UART_BRIDGE_REMAP_PINS
            help
                Choose the GPIO number to use for UART TX

        config ESP_UART_BRIDGE_RXD_PIN
            int "GPIO number for UART RX"
            default 1
            depends on ESP_UART_BRIDGE_REMAP_PINS
            help
                Choose the GPIO number to use for UART RX

        config ESP_UART_BRIDGE_BAUD_RATE
            int "UART baud rate"
            default 115200
            depends on ESP_UART_BRIDGE_ENABLED
            help
                Select the baud rate for the UART.

        config ESP_UART_BRIDGE_DATA_BITS
            int "UART data bits"
            default 8
            depends on ESP_UART_BRIDGE_ENABLED
            help
                Select the number of data bits (7 or 8) for the UART.

        choice ESP_UART_BRIDGE_PARITY
            prompt "UART parity"
            default ESP_UART_BRIDGE_PARITY_NONE
            depends on ESP_UART_BRIDGE_ENABLED
            help
                Select the parity for the UART.

            config ESP_UART_BRIDGE_PARITY_NONE
                bool "None"
            config ESP_UART_BRIDGE_PARITY_EVEN
                bool "Even"
            config ESP_UART_BRIDGE_PARITY_ODD
                bool "Odd"

        endchoice

        config ESP_UART_BRIDGE_STOP_BITS
            int "UART stop bits"
            default 1
            depends on ESP_UART_BRIDGE_ENABLED
            help
                Select the number of stop bits (1 or 2) for the UART.

    endmenu

    menu "GPIO number assignments"

        config ESP_DAP_JTAG_SUPPORTED
            bool "Target JTAG supported"
            default y
            help
                Include support for JTAG.

        config ESP_DAP_SWD_SUPPORTED
            bool "Target SWD supported"
            default y
            help
                Include support for SWD.

        config ESP_DAP_JTAG_NTRST_SUPPORTED
            bool "Target JTAG nTRST supported"
            default y
            help
                Include support for driving the JTAG TRST signal.

        config ESP_DAP_NRESET_SUPPORTED
            bool "Target nRESET supported"
            default y
            help
                Include support for driving the target nRESET signal.

        config ESP_DAP_LED_SUPPORTED
            bool "LED supported"
            default y
            help
                Include support for turning on an LED when connected to the target.

        config ESP_DAP_GPIO_SWCLK_TCK
            int "GPIO number for SWCLK / TCK"
            default 19
            depends on ESP_DAP_JTAG_SUPPORTED || ESP_DAP_SWD_SUPPORTED

        config ESP_DAP_GPIO_SWDIO_TMS
            int "GPIO number for SWDIO / TMS"
            default 20
            depends on ESP_DAP_JTAG_SUPPORTED || ESP_DAP_SWD_SUPPORTED

        config ESP_DAP_GPIO_TDI
            int "GPIO number for TDI"
            default 22
            depends on ESP_DAP_JTAG_SUPPORTED

        config ESP_DAP_GPIO_TDO
            int "GPIO number for TDO"
            default 23
            depends on ESP_DAP_JTAG_SUPPORTED

        config ESP_DAP_GPIO_NTRST
            int "GPIO number for nTRST"
            default 21
            depends on ESP_DAP_JTAG_SUPPORTED && ESP_DAP_JTAG_NTRST_SUPPORTED

        config ESP_DAP_GPIO_NRESET
            int "GPIO number for nRESET"
            default 18
            depends on ESP_DAP_NRESET_SUPPORTED

        config ESP_DAP_GPIO_LED
            int "GPIO number for LED"
            default 15
            depends on ESP_DAP_LED_SUPPORTED

        choice ESP_DAP_LED_POLARITY
            prompt "LED polarity"
            default ESP_DAP_LED_ACTIVE_LOW
            depends on ESP_DAP_LED_SUPPORTED
            help
                The LED is either active high or active low.

            config ESP_DAP_LED_ACTIVE_HIGH
                bool "LED is active high"
            config ESP_DAP_LED_ACTIVE_LOW
                bool "LED is active low"
        endchoice

    endmenu

    config ESP_DAP_TCP_PORT
        int "CMSIS-DAP TCP port number"
        default 4441
        help
            Select the TCP port number for CMSIS-DAP.

    config ESP_DAP_TCP_MAX_PKT_SIZE
        int "CMSIS-DAP maximum packet size"
        default 1024
        help
            Choose the maximum size of a CMSIS-DAP request or response.
            Should be >= to that used by the client.

    config ESP_DAP_TCP_USE_KEEPALIVE
        bool "Enable TCP keep-alive packets and disconnect on timeout"
        default y
        help
            To detect dead clients, use TCP keepalives and drop the connection
            if a timeout occurs.

    config ESP_DAP_DISABLE_WIFI_POWER_SAVE
        bool "Disable WiFi power saving mode for higher performance."
        default y
        help
            Uses more power but improves throughput.

    config ESP_DAP_IO_PORT_WRITE_CYCLES
        int "Number of CPU clock cycles for a GPIO port write"
        default 72
        help
            This number may need to be tuned to get an accurate SWCLK/TCK
            frequency.

    config ESP_DAP_DELAY_SLOW_CYCLES
        int "Number of CPU clock cycles for one delay loop iteration"
        default 5
        help
            This number may need to be tuned to get an accurate SWCLK/TCK
            frequency.

    config ESP_PRINT_CPU_USAGE
        bool "Print CPU usage for each task"
        default n
        help
            For debugging, periodically print CPU usage of each task to the
            console.

endmenu
